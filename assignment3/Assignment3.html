<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Assignment3</title>
</head>
<body>
    <h1>Assignment3: Write an IIFE in which we have to validate the input provided from a form using closures. The form
        consists of name, email, phone, address in which name, email and phone number should not be left
        blank. Also validate that the given email is a valid email id using JavaScript.    </h1>
    <form id="information">
        <input type="text" id="name" placeholder="name">
        <br />
        <br />
        <input type="email" id="email" placeholder="email">
        <br />
        <br />
        <input type="text" id="phone" placeholder="phone">
        <br />
        <br />
        <input type="text" id="address" placeholder="address">
        <br />
        <br />
        <input type="button" value="submit" id="submit">      
        <br />
        <br />
        <h1>Assignment4: Write a IIFE that prints AGE NAME AND CITY of the Person.</h1>        <br />
        <br />       
        <div id="nameDiv"></div>
        <div id="emailDiv"></div>
        <div id="phoneDiv"></div>
        <div id="addressDiv"></div>                
    </form>   
    <script type="text/javascript">
        document.getElementById("submit").onclick = function () {
            // inputFnction will get the obj that contains validateFunction and printFunction from teh immediately invoked function
            var inputObject = (function () {
                name =  document.getElementById("name").value;
                email = document.getElementById("email").value;
                phone = document.getElementById("phone").value;
                address = document.getElementById("address").value;
                var obj = {                    
                    validateFunction : function ()
                    {
                        if (name == "" || email == "" || phone == "")
                        {
                            return false;
                        }
                        var re = /^\S+@\S+\.\S+$/;
                        return re.test(email);
                    },
                    printFunction : function ()
                    {
                        document.getElementById("nameDiv").innerText = name;
                        document.getElementById("emailDiv").innerText = email;
                        document.getElementById("phoneDiv").innerText = phone;
                        document.getElementById("addressDiv").innerText = address;                   
                    },
                    clearFunction:function()
                    {
                        document.getElementById("nameDiv").innerText = "";
                        document.getElementById("emailDiv").innerText = "";
                        document.getElementById("phoneDiv").innerText = "";
                        document.getElementById("addressDiv").innerText = "";  
                    }
                }
                return (obj);
            })();
            // invoking the validateFunction using validateForm - closure
            if (!inputObject.validateFunction()) {
                    inputObject.clearFunction();
                    alert("Invalid inputs");
                }
            else {                   
                inputObject.printFunction();
            }             
            }              
    </script>
</body>
</html>
